# Project Context

## Purpose
The project called B1Shortener is a simple url shortener SAAS with only one user which is created on first connection to the admin.
In the admin there's :
- a main toolbar visible on all admin pages with the app name followed by the page name on the left and a logout button on the right
- a main page with a text input to enter an url and a `generate short url` button. On generation complete, the generated short url is displayed below the form with a `copy to clipboard` button.
- a page listing all generated short urls in a table with rows content as `short_url | target_url | clicks_count | delete_button`
There's no public frontend, just the admin login page and an endpoint that get the sort url code as an url param eg: `http://{domain}/{code}`. When this enpoint is called, we reccord a click in the database and redirect the user to the target url.

## Tech Stack
- TypeScript
- NestJS (Express) for the backend with TypeORM to communicate with a PostgreSQL database
- JWT for the auth mecanism
- VUE3 router with Vite for the frontend
- NuxtUI for the admin UI (UPage, UHeader, etc...)
- Docker compose to deploy the app
- axios (HTTP client)
- class‑validator, class‑transformer

## Project Conventions

### Code Style
- Use Prettier with 2 space indentation, single quotes, trailing commas.
- Naming: camelCase for variables, PascalCase for classes and interfaces, SCREAMING_SNAKE_CASE for constants.
- ESLint + TypeScript ESLint plugin; no console.log in production.

### Architecture Patterns
- Clean Architecture: Controllers, Services, Repositories, Entities, DTOs.
- Modular NestJS per domain (auth, admin_users, short_urls, analytics).
- Separation of concerns with DTOs, pipes, and guards.
- Use dependency injection and abstract classes for services.

### Testing Strategy
- Jest for unit and integration tests.
- Vitest for frontend testing.
- Coverage >80% (backend) / >70% (frontend).
- Use mock services for external APIs.

### Git Workflow
- Gitflow‑like: `main` is production, `develop` for staging.
- Feature branches: `feature/<name>`; bug fixes: `bugfix/<name>`.
- Commit messages: emojiKarma Commits (`feat`, `fix`, `docs`, `refactor`).

## Domain Context
- users can call a short url and be redirected to the target url
- Admin portal is used to create and manage shortened urls

## Important Constraints
- a rate limit should be applied to the short urls calls

## External Dependencies
- none
